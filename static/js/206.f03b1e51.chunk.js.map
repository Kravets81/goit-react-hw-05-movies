{"version":3,"file":"static/js/206.f03b1e51.chunk.js","mappings":"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","sources":["pages/MovieCard/MovieCard.styled.jsx","pages/MovieCard/MovieCard.jsx","services/API.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Button = styled(NavLink)`\n  border-radius: 5px;\n  width: 75px;\n  background-color: tomato;\n  text-decoration: none;\n  padding: 5px;\n  display: block;\n  color: white;\n  margin-bottom: 5px;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  gap: 15px;\n`;\n\nexport const Image = styled.img`\n  width: 250px;\n  height=: auto;\n`;\n\nexport const List = styled.ul`\n  list-style: none;\n`;\n\nexport const Item = styled.li`\n  border-radius: 5px;\n  width: 75px;\n  background-color: tomato;\n  text-decoration: none;\n  padding: 5px;\n  color: white;\n  margin-bottom: 5px;\n  text-align: center;\n`;\n\nexport const ButtonLink = styled(NavLink)`\n  text-decoration: none;\n  display: block;\n  color: white;\n`;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useParams, useLocation, Outlet } from 'react-router-dom';\nimport { getMovieDetails } from 'services/API';\nimport PropTypes from 'prop-types';\nimport { Suspense } from 'react';\nimport {\n  Button,\n  Wrapper,\n  Image,\n  Item,\n  List,\n  ButtonLink,\n} from './MovieCard.styled';\n\nexport default function MovieCard() {\n  const [loading, setLoading] = useState(true);\n  const [movieData, setMovieData] = useState(null);\n  const [error, setError] = useState('');\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLincLocationRef = useRef(location.state?.from ?? '/');\n\n  const BASE_URL = `https://image.tmdb.org/t/p/original`;\n  const {\n    genres,\n    release_date,\n    overview,\n    popularity,\n    poster_path,\n    original_title,\n  } = movieData || {};\n\n  const posterURL = poster_path ? `${BASE_URL}${poster_path}` : '';\n  const releaseYear = new Date(`${release_date}`).getFullYear();\n  const genresMovie = genres ? genres.map(genre => [genre.name]).join(' ') : '';\n\n  useEffect(() => {\n    const fetchMovieById = async () => {\n      try {\n        const data = await getMovieDetails(movieId);\n        setMovieData(data);\n        setLoading(false);\n      } catch (error) {\n        setError('Ooops. Something went wrong...');\n        setLoading(false);\n      }\n    };\n    fetchMovieById(movieId);\n  }, [movieId]);\n\n  return (\n    <div>\n      {loading && <p>Loading...</p>}\n      {error && <p>{error}</p>}\n      {movieData && (\n        <div>\n          <Button to={backLincLocationRef.current}>Go back</Button>\n          <Wrapper>\n            <div>\n              <Image src={`${posterURL}`} alt={original_title} />\n            </div>\n            <div>\n              <h3>\n                {original_title} ({releaseYear})\n              </h3>\n              <p>User score: {popularity}</p>\n              <h4>Overview</h4>\n              <p>{overview}</p>\n              <h4>Genres</h4>\n              <p>{genresMovie}</p>\n            </div>\n          </Wrapper>\n          <h4>Additional informanion</h4>\n          <List>\n            <Item>\n              <ButtonLink to=\"cast\">Cast</ButtonLink>\n            </Item>\n            <Item>\n              <ButtonLink to=\"reviews\">Reviews</ButtonLink>\n            </Item>\n          </List>\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n    </div>\n  );\n}\n\nMovieCard.propTypes = {\n  movieId: PropTypes.string,\n  movieData: PropTypes.shape({\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string.isRequired,\n      })\n    ),\n    release_date: PropTypes.string,\n    overview: PropTypes.string,\n    popularity: PropTypes.number,\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string,\n  }),\n};\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'bfdc0ae9bb4cf69882d567f8453b8335';\n\nexport async function getTrandingMovies() {\n  try {\n    const response = await fetch(\n      `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function searchMovieByQuery(searchQuery) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${searchQuery}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function getMovieDetails(movieId) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}movie/${movieId}?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function getMovieCredits(movieId) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function getMovieReviews(movieId) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["Button","styled","NavLink","Wrapper","Image","List","Item","ButtonLink","MovieCard","useState","loading","setLoading","movieData","setMovieData","error","setError","movieId","useParams","location","useLocation","backLincLocationRef","useRef","state","from","genres","release_date","overview","popularity","poster_path","original_title","posterURL","releaseYear","Date","getFullYear","genresMovie","map","genre","name","join","useEffect","fetchMovieById","getMovieDetails","data","to","current","src","alt","Suspense","fallback","BASE_URL","API_KEY","getTrandingMovies","fetch","response","ok","Error","json","console","searchMovieByQuery","searchQuery","getMovieCredits","getMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}