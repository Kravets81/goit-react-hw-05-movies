{"version":3,"file":"static/js/386.0ce8e39b.chunk.js","mappings":"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","sources":["components/SearchMovies/SearchMovies.styled.jsx","components/SearchMovies/SearchMovies.jsx","components/SearchForm/SearchForm.styled.jsx","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","services/API.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Item = styled.li`\n  margin-bottom: 3px;\n  background-color: lightgrey;\n  border-radius: 5px;\n  padding: 7px;\n`;\n\nexport const Link = styled(NavLink)`\n  text-decoration: none;\n  font-size: 17px;\n  color: black;\n\n  }\n`;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Item, Link } from './SearchMovies.styled';\n\nexport default function SearchMovies({ searchMovies }) {\n  const location = useLocation();\n\n  return Array.isArray(searchMovies) && searchMovies.length > 0 ? (\n    searchMovies.map(searchMovie => (\n      <Item key={searchMovie.id}>\n        <Link to={`/movies/${searchMovie.id}`} state={{ from: location }}>\n          {searchMovie.title || searchMovie.name}\n        </Link>\n      </Item>\n    ))\n  ) : (\n    <li>No results available</li>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Form = styled.form``;\n\nexport const Input = styled.input`\n  width: 230px;\n  padding: 7px;\n  background-color: lightgrey;\n`;\n\nexport const Button = styled.button`\n  width: 130px;\n  padding: 7px;\n  background-color: lightgrey;\n`;\n","import React from 'react';\nimport { Form, Input, Button } from './SearchForm.styled';\n\nexport default function SearchForm({\n  onSearch,\n  searchQuery,\n  setSearchQuery,\n  setSearchParams,\n}) {\n  function handleSearchMovie(e) {\n    e.preventDefault();\n    if (searchQuery.trim() === '') {\n      alert('Enter the film title');\n    }\n    onSearch(searchQuery);\n    setSearchParams({ query: searchQuery.trim() });\n  }\n\n  return (\n    <Form onSubmit={handleSearchMovie}>\n      <Input\n        type=\"text\"\n        name=\"searchQuery\"\n        value={searchQuery}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies ...\"\n        onChange={e => {\n          setSearchQuery(e.target.value.toLowerCase());\n        }}\n      />\n      <Button>Search</Button>\n    </Form>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const List = styled.ul`\n  list-style: none;\n  padding: 0px;\n`;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovieByQuery } from 'services/API';\nimport SearchMovies from 'components/SearchMovies/SearchMovies';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport { Wrapper, List } from './Movies.styled';\n\nfunction Movies() {\n  const [searchParams, setSearchParams] = useSearchParams({ query: '' });\n  const query = searchParams.get('query');\n\n  const [searchQuery, setSearchQuery] = useState(query);\n  const [searchResults, setSearchResults] = useState([]);\n\n  useEffect(() => {\n    if (searchQuery) handleSearch(searchQuery);\n  }, []);\n\n  function handleSearch(query) {\n    searchMovieByQuery(query)\n      .then(response => {\n        setSearchResults(response.results);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n\n  return (\n    <Wrapper>\n      <SearchForm\n        onSearch={handleSearch}\n        searchQuery={searchQuery}\n        setSearchQuery={setSearchQuery}\n        setSearchParams={setSearchParams}\n      />\n      <List>\n        <SearchMovies searchMovies={searchResults} />\n      </List>\n    </Wrapper>\n  );\n}\n\nexport default Movies;\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'bfdc0ae9bb4cf69882d567f8453b8335';\n\nexport async function getTrandingMovies() {\n  try {\n    const response = await fetch(\n      `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function searchMovieByQuery(searchQuery) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${searchQuery}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function getMovieDetails(movieId) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}movie/${movieId}?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function getMovieCredits(movieId) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n\nexport async function getMovieReviews(movieId) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n    if (!response.ok) {\n      throw new Error('Ошибка при выполнении запроса!');\n    }\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["Item","styled","Link","NavLink","SearchMovies","searchMovies","location","useLocation","Array","isArray","length","map","searchMovie","to","id","state","from","title","name","Form","Input","Button","SearchForm","onSearch","searchQuery","setSearchQuery","setSearchParams","onSubmit","e","preventDefault","trim","alert","query","type","value","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","Wrapper","List","useSearchParams","searchParams","get","useState","searchResults","setSearchResults","handleSearch","searchMovieByQuery","then","response","results","catch","error","console","useEffect","BASE_URL","API_KEY","getTrandingMovies","fetch","ok","Error","json","data","getMovieDetails","movieId","getMovieCredits","getMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}