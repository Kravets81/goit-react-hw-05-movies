"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[386],{386:function(e,r,n){n.r(r),n.d(r,{default:function(){return _}});var t,c,a,o,u,s=n(439),i=n(791),p=n(87),h=n(228),f=n(689),l=n(168),v=n(444),d=v.ZP.li(t||(t=(0,l.Z)(["\n  margin-bottom: 3px;\n  background-color: lightgrey;\n  border-radius: 5px;\n  padding: 7px;\n"]))),x=(0,v.ZP)(p.OL)(c||(c=(0,l.Z)(["\n  text-decoration: none;\n  font-size: 17px;\n  color: black;\n\n  }\n"]))),m=n(184);function w(e){var r=e.searchMovies,n=(0,f.TH)();return Array.isArray(r)&&r.length>0?r.map((function(e){return(0,m.jsx)(d,{children:(0,m.jsx)(x,{to:"/movies/".concat(e.id),state:{from:n},children:e.title||e.name})},e.id)})):(0,m.jsx)("li",{children:"No results available"})}var y,k,b=v.ZP.form(a||(a=(0,l.Z)([""]))),g=v.ZP.input(o||(o=(0,l.Z)(["\n  width: 230px;\n  padding: 7px;\n  background-color: lightgrey;\n"]))),Z=v.ZP.button(u||(u=(0,l.Z)(["\n  width: 130px;\n  padding: 7px;\n  background-color: lightgrey;\n"])));function j(e){var r=e.onSearch,n=e.searchQuery,t=e.setSearchQuery,c=e.setSearchParams;return(0,m.jsxs)(b,{onSubmit:function(e){e.preventDefault(),""===n.trim()&&alert("Enter the film title"),r(n),c({query:n.trim()})},children:[(0,m.jsx)(g,{type:"text",name:"searchQuery",value:n,autoComplete:"off",autoFocus:!0,placeholder:"Search movies ...",onChange:function(e){t(e.target.value.toLowerCase())}}),(0,m.jsx)(Z,{children:"Search"})]})}var P=v.ZP.div(y||(y=(0,l.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n"]))),S=v.ZP.ul(k||(k=(0,l.Z)(["\n  list-style: none;\n  padding: 0px;\n"])));var _=function(){var e=(0,p.lr)({query:""}),r=(0,s.Z)(e,2),n=r[0],t=r[1],c=n.get("query"),a=(0,i.useState)(c),o=(0,s.Z)(a,2),u=o[0],f=o[1],l=(0,i.useState)([]),v=(0,s.Z)(l,2),d=v[0],x=v[1];function y(e){(0,h.OQ)(e).then((function(e){x(e.results)})).catch((function(e){console.error(e)}))}return(0,i.useEffect)((function(){u&&y(u)}),[]),(0,m.jsxs)(P,{children:[(0,m.jsx)(j,{onSearch:y,searchQuery:u,setSearchQuery:f,setSearchParams:t}),(0,m.jsx)(S,{children:(0,m.jsx)(w,{searchMovies:d})})]})}},228:function(e,r,n){n.d(r,{OQ:function(){return p},TP:function(){return f},rj:function(){return s},tx:function(){return x},zv:function(){return v}});var t=n(861),c=n(757),a=n.n(c),o="https://api.themoviedb.org/3/",u="bfdc0ae9bb4cf69882d567f8453b8335";function s(){return i.apply(this,arguments)}function i(){return(i=(0,t.Z)(a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"trending/movie/day?api_key=").concat(u));case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430!");case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(a().mark((function e(r){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(r));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430!");case 6:return e.next=8,n.json();case 8:return t=e.sent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return(l=(0,t.Z)(a().mark((function e(r){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"movie/").concat(r,"?api_key=").concat(u));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430!");case 6:return e.next=8,n.json();case 8:return t=e.sent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function v(e){return d.apply(this,arguments)}function d(){return(d=(0,t.Z)(a().mark((function e(r){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"movie/").concat(r,"/credits?api_key=").concat(u));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430!");case 6:return e.next=8,n.json();case 8:return t=e.sent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)(a().mark((function e(r){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"movie/").concat(r,"/reviews?api_key=").concat(u));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430!");case 6:return e.next=8,n.json();case 8:return t=e.sent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}},861:function(e,r,n){function t(e,r,n,t,c,a,o){try{var u=e[a](o),s=u.value}catch(i){return void n(i)}u.done?r(s):Promise.resolve(s).then(t,c)}function c(e){return function(){var r=this,n=arguments;return new Promise((function(c,a){var o=e.apply(r,n);function u(e){t(o,c,a,u,s,"next",e)}function s(e){t(o,c,a,u,s,"throw",e)}u(void 0)}))}}n.d(r,{Z:function(){return c}})}}]);
//# sourceMappingURL=386.0ce8e39b.chunk.js.map